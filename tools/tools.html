<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tool ‚Ä¢ Clickoz</title>
  <meta name="description" content="Free, fast, privacy-friendly online tool by Clickoz." />
  <meta name="robots" content="index,follow" />
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/site.css" />

  <style>
    :root{
      --ui-base: 18px;
      --bg: #0b0f19;
      --surface: #0f1526;
      --surface-2: #111a30;
      --border: rgba(255,255,255,.10);
      --border-2: rgba(255,255,255,.16);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --accent: #6366f1;
      --accent2:#8b5cf6;
      --accent-rgb: 99,102,241;
      --radius: 14px;
      --shadow-soft: 0 6px 16px rgba(0,0,0,.22);
      --focus: 0 0 0 4px rgba(var(--accent-rgb), .16);
    }
    html{ font-size: var(--ui-base); }
    body{
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% -10%, rgba(var(--accent-rgb),.16), transparent 55%),
                  radial-gradient(900px 520px at 90% 0%, rgba(139,92,246,.12), transparent 55%),
                  var(--bg);
      color: var(--text);
    }

    /* Bigger logo */
    .logo{ font-size: 20px; font-weight: 900; letter-spacing: -0.02em; }
    .logo-badge{
      width: 42px; height: 42px;
      display:inline-flex; align-items:center; justify-content:center;
      border-radius: 12px; font-size: 20px;
    }
    @media (max-width: 860px){
      .logo{ font-size: 19px; }
      .logo-badge{ width: 38px; height: 38px; }
      .nav-links{ display:none; }
      .nav-inner{ justify-content:space-between; }
    }

    .nav-actions{ display:flex; align-items:center; gap:10px; }
    .icon-btn{
      display:inline-flex; align-items:center; gap:10px;
      height:42px; padding:0 12px; border-radius: 10px;
      background: var(--surface); border: 1px solid var(--border);
      color: var(--text); cursor:pointer; font-weight: 800; font-size: 14px;
    }
    .icon-btn:hover{ background: var(--surface-2); border-color: var(--border-2); box-shadow: var(--shadow-soft); }
    .icon-btn:focus{ outline:none; box-shadow: var(--focus); border-color: rgba(var(--accent-rgb), .55); }

    .dot{ width:14px; height:14px; border-radius:999px; background:var(--accent); border:2px solid rgba(255,255,255,.22); }
    .dropdown{ position:relative; }
    .menu{
      position:absolute; top:52px; right:0; min-width:240px;
      background:#0c1222; border:1px solid var(--border); border-radius: var(--radius);
      box-shadow: 0 10px 26px rgba(0,0,0,.35);
      padding:10px; display:none; z-index:999; text-align:left;
    }
    .menu.active{ display:block; }
    .menu-title{ font-size: 12px; letter-spacing:.10em; text-transform:uppercase; color:rgba(255,255,255,.58); padding:8px 10px 6px; }
    .color-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:10px; padding:6px 8px 10px; }
    .color-option{ width:34px; height:34px; border-radius:999px; border:2px solid rgba(255,255,255,.12); cursor:pointer; }
    .color-option:hover{ border-color: rgba(255,255,255,.28); transform: translateY(-1px); }
    .color-option.active{ border-color: rgba(255,255,255,.85); }

    /* Translate in NAV */
    #gtNavWrap{ display:none; align-items:center; }
    #gtNavWrap.show{ display:inline-flex; }
    #google_translate_element{
      display:inline-block;
      padding: 0; /* select handles padding */
      border-radius: 10px;
    }
    #google_translate_element, #google_translate_element *{ background: transparent !important; }
    .goog-te-gadget{ color: transparent !important; }
    .goog-te-gadget span{ display:none !important; }
    .goog-te-gadget select{
      background: #0c1222 !important;
      color: rgba(255,255,255,.92) !important;
      border: 1px solid rgba(255,255,255,.14) !important;
      border-radius: 10px !important;
      padding: 6px 10px !important;
      outline: none !important;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 800; font-size: 13px;
      appearance: none;
    }
    .goog-te-gadget select option{
      background: #0c1222 !important;
      color: rgba(255,255,255,.92) !important;
    }
    .goog-te-banner-frame{ display:none !important; }
    body{ top:0 !important; }

    /* Tool layout */
    .tool-wrap{ max-width: 1120px; margin: 0 auto; padding: 34px 16px 50px; text-align:center; }
    .tool-hero{ max-width: 920px; margin: 0 auto 16px; }
    .tool-hero h1{ font-size: clamp(30px, 3.2vw, 48px); letter-spacing:-0.03em; line-height:1.08; margin: 0 auto; }
    .tool-hero p{ color: var(--muted); line-height:1.75; margin: 10px auto 0; max-width: 880px; }

    .panel{
      max-width: 1120px;
      margin: 18px auto 0;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      text-align:left;
    }
    .grid2{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      align-items: start;
    }
    @media (max-width: 980px){ .grid2{ grid-template-columns:1fr; } }

    textarea, input{
      width: 100%;
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      border-radius: 12px;
      padding: 12px 12px;
      outline:none;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    textarea{ min-height: 220px; resize: vertical; line-height:1.6; }
    textarea:focus, input:focus{ border-color: rgba(var(--accent-rgb), .55); box-shadow: var(--focus); }
    .btn2{
      display:inline-flex; align-items:center; justify-content:center;
      height: 42px; padding: 0 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight: 900;
      cursor:pointer;
    }
    .btn2.primary{ background: var(--accent); box-shadow: 0 10px 22px rgba(var(--accent-rgb), .18); }
    .btn2:hover{ filter: brightness(1.04); }
    .rowbtn{ display:flex; gap:10px; flex-wrap: wrap; justify-content:flex-start; margin-top: 10px; }

    .results{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .results{ grid-template-columns:1fr; } }
    .stat{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 12px;
      padding: 10px 12px;
    }
    .stat .k{ font-size: 12px; letter-spacing:.08em; text-transform:uppercase; color: rgba(255,255,255,.58); }
    .stat .v{ font-size: 18px; font-weight: 900; margin-top: 4px; }

    .note{ font-size: 13px; color: rgba(255,255,255,.68); line-height:1.55; margin-top: 10px; }
    .note b{ color: rgba(255,255,255,.86); }

    /* consent */
    .consent{ position:fixed; left:16px; right:16px; bottom:16px; z-index:1000; display:none; }
    .consent.show{ display:block; }
    .consent-inner{
      max-width:1120px; margin:0 auto;
      background: rgba(15,21,38,.92);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 18px 50px rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      display:flex; align-items:center; justify-content:space-between; gap: 14px;
      text-align:left;
    }
    .consent-text p{ margin:6px 0 0; color: rgba(255,255,255,.72); font-size:13px; line-height:1.55; max-width:820px; }
    .consent-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .consent-actions .btn{ height:40px; padding:0 12px; font-size:13px; }
    @media (max-width:860px){
      .consent-inner{ flex-direction:column; align-items:stretch; }
      .consent-actions .btn{ width:100%; }
    }
  </style>
</head>

<body>
  <nav class="nav" aria-label="Primary navigation">
    <div class="container nav-inner">
      <a class="logo" href="/" aria-label="Clickoz Home">
        <span class="logo-badge" aria-hidden="true">‚ö°</span> Click<span id="logoAccent">oz</span>
      </a>

      <div class="nav-links" aria-label="Sections">
        <a href="/#tools">Tools</a>
        <a href="/workflows/">Workflows</a>
        <a href="/guides/">Guides</a>
        <a href="/about/">About</a>
      </div>

      <div class="spacer"></div>

      <div class="nav-actions" aria-label="Preferences">
        <div class="dropdown">
          <button class="icon-btn" id="colorToggle" type="button" aria-haspopup="true" aria-expanded="false" title="Pick accent color">
            <span class="dot" id="colorDot" aria-hidden="true"></span>
            <span>Accent</span>
          </button>

          <div class="menu" id="colorMenu" role="menu" aria-label="Pick accent color">
            <div class="menu-title">Accent color</div>
            <div class="color-grid">
              <div class="color-option active" data-accent="#6366f1" data-accent2="#8b5cf6" style="background:#6366f1" title="Purple" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#3b82f6" data-accent2="#60a5fa" style="background:#3b82f6" title="Blue" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#10b981" data-accent2="#34d399" style="background:#10b981" title="Green" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#f59e0b" data-accent2="#fbbf24" style="background:#f59e0b" title="Yellow" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#f97316" data-accent2="#fb923c" style="background:#f97316" title="Orange" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#ef4444" data-accent2="#f87171" style="background:#ef4444" title="Red" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#ec4899" data-accent2="#f472b6" style="background:#ec4899" title="Pink" role="menuitem" tabindex="0"></div>
              <div class="color-option" data-accent="#06b6d4" data-accent2="#22d3ee" style="background:#06b6d4" title="Cyan" role="menuitem" tabindex="0"></div>
            </div>
          </div>
        </div>

        <div id="gtNavWrap" aria-label="Translate">
          <div id="google_translate_element"></div>
        </div>
      </div>
    </div>
  </nav>

  <main class="tool-wrap">
    <div class="tool-hero">
      <div style="display:flex;justify-content:center;gap:10px;align-items:center;margin-bottom:10px;">
        <div id="toolIcon" style="width:44px;height:44px;border-radius:14px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.10);font-size:20px;">‚ú®</div>
        <div style="text-align:left">
          <div style="font-size:12px;letter-spacing:.10em;text-transform:uppercase;color:rgba(255,255,255,.58);">Clickoz Tool</div>
          <div id="toolName" style="font-weight:1000;font-size:18px;">Tool</div>
        </div>
      </div>

      <h1 id="toolH1">Tool title</h1>
      <p id="toolDesc">Tool description.</p>
    </div>

    <div class="panel">
      <div class="grid2">
        <div>
          <label style="font-weight:900;font-size:13px;letter-spacing:.06em;text-transform:uppercase;color:rgba(255,255,255,.62);">Input</label>
          <textarea id="input" placeholder="Paste text here‚Ä¶"></textarea>

          <div class="rowbtn">
            <button class="btn2 primary" id="runBtn" type="button">Run</button>
            <button class="btn2" id="clearBtn" type="button">Clear</button>
            <button class="btn2" id="copyBtn" type="button">Copy output</button>
          </div>

          <div class="note" id="toolNote"></div>
        </div>

        <div>
          <label style="font-weight:900;font-size:13px;letter-spacing:.06em;text-transform:uppercase;color:rgba(255,255,255,.62);">Output</label>
          <div class="results" id="stats"></div>

          <div style="margin-top:10px;">
            <label style="font-weight:900;font-size:13px;letter-spacing:.06em;text-transform:uppercase;color:rgba(255,255,255,.62);">Details</label>
            <textarea id="output" style="min-height:160px" placeholder="Output will appear here‚Ä¶"></textarea>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Cookie/Consent -->
  <div id="consentBanner" class="consent" role="dialog" aria-live="polite" aria-label="Cookie preferences">
    <div class="consent-inner">
      <div class="consent-text">
        <strong>Privacy choices</strong>
        <p>
          We use essential storage for core features. If you accept all, we may load third-party services like Google Translate.
          Read more in <a href="/privacy/">Privacy</a>.
        </p>
      </div>
      <div class="consent-actions">
        <button class="btn" id="consentReject" type="button">Refuse</button>
        <button class="btn" id="consentEssential" type="button">Essential only</button>
        <button class="btn primary" id="consentAccept" type="button">Accept all</button>
      </div>
    </div>
  </div>

  <script>
    /* ====== CHANGE THIS PER PAGE ====== */
    const TOOL_ID = "word-counter-pro";
    /* ================================ */

    function hexToRgbTriplet(hex){
      const h = (hex || '').replace('#','').trim();
      if(h.length === 3){
        const r = parseInt(h[0]+h[0], 16);
        const g = parseInt(h[1]+h[1], 16);
        const b = parseInt(h[2]+h[2], 16);
        return `${r},${g},${b}`;
      }
      if(h.length === 6){
        const r = parseInt(h.slice(0,2), 16);
        const g = parseInt(h.slice(2,4), 16);
        const b = parseInt(h.slice(4,6), 16);
        return `${r},${g},${b}`;
      }
      return "99,102,241";
    }

    // Accent picker
    const colorToggle = document.getElementById('colorToggle');
    const colorMenu = document.getElementById('colorMenu');
    const colorDot = document.getElementById('colorDot');
    const logoAccent = document.getElementById('logoAccent');

    function setAccent(a1, a2){
      document.documentElement.style.setProperty('--accent', a1);
      document.documentElement.style.setProperty('--accent2', a2);
      document.documentElement.style.setProperty('--accent-rgb', hexToRgbTriplet(a1));
      colorDot.style.background = a1;
      logoAccent.style.color = a1;
      localStorage.setItem('clickoz_accent', JSON.stringify({a1, a2}));
    }

    function toggleMenu(btn, menu){
      const isOpen = menu.classList.contains('active');
      document.querySelectorAll('.menu.active').forEach(m => m.classList.remove('active'));
      menu.classList.toggle('active', !isOpen);
      btn.setAttribute('aria-expanded', String(!isOpen));
    }
    function closeAll(){
      document.querySelectorAll('.menu.active').forEach(m => m.classList.remove('active'));
      document.querySelectorAll('[aria-expanded="true"]').forEach(b => b.setAttribute('aria-expanded','false'));
    }
    colorToggle?.addEventListener('click', (e)=>{ e.stopPropagation(); toggleMenu(colorToggle, colorMenu); });
    document.addEventListener('click', (e)=>{ if(!e.target.closest('.dropdown')) closeAll(); });

    colorMenu?.addEventListener('click', (e)=>{
      e.stopPropagation();
      const opt = e.target.closest('.color-option');
      if(!opt) return;
      document.querySelectorAll('.color-option').forEach(x=>x.classList.remove('active'));
      opt.classList.add('active');
      setAccent(opt.dataset.accent, opt.dataset.accent2);
      closeAll();
    });

    try{
      const saved = JSON.parse(localStorage.getItem('clickoz_accent') || 'null');
      if(saved && saved.a1 && saved.a2){
        setAccent(saved.a1, saved.a2);
        const match = Array.from(document.querySelectorAll('.color-option')).find(x => x.dataset.accent === saved.a1);
        if(match){
          document.querySelectorAll('.color-option').forEach(x=>x.classList.remove('active'));
          match.classList.add('active');
        }
      }else{
        const a = getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#6366f1';
        document.documentElement.style.setProperty('--accent-rgb', hexToRgbTriplet(a));
        colorDot.style.background = a;
        logoAccent.style.color = a;
      }
    }catch(_){}

    // Consent + conditional Google Translate
    (function(){
      const KEY = "clickoz_consent";
      const banner = document.getElementById("consentBanner");
      const gtNavWrap = document.getElementById("gtNavWrap");

      function setCookie(name, value, days){
        const maxAge = days ? `; Max-Age=${days*24*60*60}` : "";
        document.cookie = `${name}=${encodeURIComponent(value)}${maxAge}; Path=/; SameSite=Lax`;
      }
      function getCookie(name){
        const m = document.cookie.match(new RegExp('(?:^|;\\s*)' + name + '=([^;]+)'));
        return m ? decodeURIComponent(m[1]) : null;
      }
      function store(val){
        try { localStorage.setItem(KEY, val); } catch(e){}
        setCookie(KEY, val, 365);
      }
      function getStored(){
        try { return localStorage.getItem(KEY); } catch(e){ return null; }
      }

      function loadGoogleTranslate(){
        if (window.__gt_loaded) return;
        window.__gt_loaded = true;

        gtNavWrap?.classList.add("show");

        window.googleTranslateElementInit = function(){
          new window.google.translate.TranslateElement(
            { pageLanguage: 'en', autoDisplay: false },
            'google_translate_element'
          );
        };

        const s = document.createElement('script');
        s.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
        s.async = true;
        document.head.appendChild(s);
      }

      const existing = getStored() || getCookie(KEY);
      if(!existing){
        banner?.classList.add("show");
      }else{
        if(existing === "all") loadGoogleTranslate();
      }

      document.getElementById("consentReject")?.addEventListener("click", () => {
        store("none");
        banner?.classList.remove("show");
      });
      document.getElementById("consentEssential")?.addEventListener("click", () => {
        store("essential");
        banner?.classList.remove("show");
      });
      document.getElementById("consentAccept")?.addEventListener("click", () => {
        store("all");
        banner?.classList.remove("show");
        loadGoogleTranslate();
      });
    })();

    // Tool registry (same ‚ÄúCMS‚Äù, different TOOL_ID)
    const TOOLS = {
      "word-counter-pro": {
        icon:"‚ú®",
        name:"Word Counter Pro",
        h1:"Word Counter Pro",
        desc:"Advanced word and character stats, reading/speaking time, and top keywords. Useful for blogs, scripts, landing pages, and SEO drafts.",
        note:"<b>Tip:</b> Paste a draft, then check <b>top keywords</b> and <b>speaking time</b> for video scripts."
      },
      "readability-analyzer": {
        icon:"üìö",
        name:"Readability Analyzer",
        h1:"Readability Analyzer",
        desc:"Estimate readability (Flesch-style), sentence length, and clarity signals to make text easier to scan and understand.",
        note:"<b>Tip:</b> If readability is low, shorten sentences and replace complex words with simpler alternatives."
      },
      "keyword-density": {
        icon:"üéØ",
        name:"Keyword Density",
        h1:"Keyword Density Checker",
        desc:"Measure keyword frequency, see repeated phrases, and keep relevance without sounding spammy.",
        note:"<b>Tip:</b> Focus on natural wording. Density is a clue, not a target."
      },
      "meta-tags": {
        icon:"üè∑Ô∏è",
        name:"Meta Tag Optimizer",
        h1:"Meta Title & Description Preview",
        desc:"Preview SERP-style title + meta description lengths and get quick checks before publishing.",
        note:"<b>Tip:</b> Keep titles readable, include intent words, and avoid truncation."
      },
      "json-formatter": {
        icon:"üßæ",
        name:"JSON Formatter",
        h1:"JSON Formatter & Validator",
        desc:"Prettify or minify JSON and quickly catch syntax errors. Great for APIs, configs, and payload debugging.",
        note:"<b>Tip:</b> If validation fails, the output box will show the error location."
      },
      "url-encoder": {
        icon:"üîó",
        name:"URL Encoder",
        h1:"URL Encode / Decode",
        desc:"Encode or decode URL strings (query params, UTMs, special chars) for clean links and debugging.",
        note:"<b>Tip:</b> Use decode when you receive messy query strings from tracking links."
      },
      "base64": {
        icon:"üîê",
        name:"Base64 Encoder",
        h1:"Base64 Encode / Decode",
        desc:"Encode or decode Base64 quickly for tokens, API payloads, and developer workflows.",
        note:"<b>Tip:</b> If decoding fails, your text may not be valid Base64."
      },
      "title-description": {
        icon:"üìù",
        name:"Title & Description Generator",
        h1:"SEO Title & Description Generator",
        desc:"Generate quick title + meta description ideas from a keyword, optimized for clarity and CTR.",
        note:"<b>Tip:</b> Add a benefit + a strong intent word (free, fast, checklist, template, etc.)."
      },
      "alt-text": {
        icon:"üñºÔ∏è",
        name:"Alt Text Generator",
        h1:"Alt Text Generator",
        desc:"Create clear alt text variants for accessibility and SEO. Best for product photos, UI screenshots, and blog images.",
        note:"<b>Tip:</b> Describe what matters: subject, action, and context. Keep it short."
      },
      "seo-outline": {
        icon:"üß†",
        name:"SEO Outline Helper",
        h1:"SEO Outline Helper",
        desc:"Generate a clean H1/H2/H3 outline with FAQ ideas aligned to intent. Useful for blogs, landing pages, and topical clusters.",
        note:"<b>Tip:</b> Use the outline as a structure, then customize sections with your unique angles."
      }
    };

    // UI refs
    const input = document.getElementById("input");
    const output = document.getElementById("output");
    const stats = document.getElementById("stats");

    function setStat(label, value){
      const el = document.createElement("div");
      el.className = "stat";
      el.innerHTML = `<div class="k">${label}</div><div class="v">${value}</div>`;
      stats.appendChild(el);
    }
    function resetUI(){
      stats.innerHTML = "";
      output.value = "";
    }

    // Helpers
    function wordsList(text){
      return (text.toLowerCase().match(/[a-z0-9']+/g) || []);
    }
    function countSentences(text){
      const m = text.replace(/\s+/g,' ').trim().match(/[^.!?]+[.!?]+/g);
      return m ? m.length : (text.trim() ? 1 : 0);
    }
    function fleschReadingEase(text){
      // very lightweight estimate (EN-centric)
      const words = wordsList(text);
      const w = words.length || 1;
      const s = Math.max(1, countSentences(text));
      const syllables = words.reduce((acc, wd)=> acc + estimateSyllables(wd), 0) || 1;
      return 206.835 - 1.015*(w/s) - 84.6*(syllables/w);
    }
    function estimateSyllables(word){
      // simple heuristic
      const w = word.toLowerCase().replace(/[^a-z]/g,'');
      if(!w) return 0;
      const m = w.replace(/e$/,'').match(/[aeiouy]+/g);
      return Math.max(1, (m ? m.length : 1));
    }
    function topKeywords(text, n=10){
      const stop = new Set(["the","and","a","an","to","of","in","is","it","for","on","with","as","at","by","from","or","be","are","was","were","this","that","these","those","you","your","we","our","they","their","i","me","my","us"]);
      const words = wordsList(text).filter(w => w.length > 2 && !stop.has(w));
      const freq = new Map();
      for(const w of words) freq.set(w, (freq.get(w)||0)+1);
      return Array.from(freq.entries()).sort((a,b)=>b[1]-a[1]).slice(0,n);
    }

    // Tool runner
    function runTool(){
      const t = (input.value || "");
      resetUI();

      if(TOOL_ID === "word-counter-pro"){
        const chars = t.length;
        const charsNoSpace = t.replace(/\s/g,'').length;
        const words = wordsList(t).length;
        const sentences = countSentences(t);
        const minutesRead = Math.max(1, Math.round(words / 200));
        const minutesSpeak = Math.max(1, Math.round(words / 130));
        setStat("Words", words);
        setStat("Characters", chars);
        setStat("Chars (no spaces)", charsNoSpace);
        setStat("Sentences", sentences);
        setStat("Reading time", `${minutesRead} min`);
        setStat("Speaking time", `${minutesSpeak} min`);
        const top = topKeywords(t, 12);
        output.value = top.length
          ? "Top keywords:\n" + top.map(([w,c])=> `${w} ‚Äî ${c}`).join("\n")
          : "Top keywords:\n(Add some text to see keyword frequency.)";
        return;
      }

      if(TOOL_ID === "readability-analyzer"){
        const words = wordsList(t).length;
        const sentences = Math.max(1, countSentences(t));
        const ease = Math.max(0, Math.min(120, fleschReadingEase(t)));
        const avgSentence = words ? (words / sentences) : 0;
        setStat("Words", words);
        setStat("Sentences", sentences);
        setStat("Avg words/sentence", avgSentence.toFixed(1));
        setStat("Readability score", ease.toFixed(1));
        output.value =
`Readability (estimate): ${ease.toFixed(1)}

Quick suggestions:
- Keep sentences under ~20 words where possible.
- Prefer simpler words for general audiences.
- Use short paragraphs + headings for scanability.`;
        return;
      }

      if(TOOL_ID === "keyword-density"){
        const words = wordsList(t);
        const total = words.length || 1;
        const top = topKeywords(t, 20);
        setStat("Total words", total);
        setStat("Unique keywords", new Set(words).size);
        output.value =
"Keyword density (top terms):\n" +
top.map(([w,c])=>{
  const pct = ((c/total)*100).toFixed(2);
  return `${w} ‚Äî ${c} (${pct}%)`;
}).join("\n");
        return;
      }

      if(TOOL_ID === "meta-tags"){
        // input format: first line title, blank line, rest description
        const parts = t.split("\n");
        const title = (parts.shift() || "").trim();
        const desc = parts.join("\n").trim();
        setStat("Title length", title.length);
        setStat("Description length", desc.length);
        setStat("Title words", wordsList(title).length);
        setStat("Desc words", wordsList(desc).length);
        output.value =
`SERP Preview (simple):
TITLE: ${title || "(add a title on the first line)"}
DESC:  ${desc || "(add a meta description below the title)"}

Hints:
- Keep titles typically ~50‚Äì60 chars.
- Keep descriptions typically ~140‚Äì160 chars.
- Put the main intent keyword early, but keep it natural.`;
        return;
      }

      if(TOOL_ID === "json-formatter"){
        const mode = "prettify";
        try{
          const obj = JSON.parse(t);
          const pretty = JSON.stringify(obj, null, 2);
          setStat("Valid JSON", "Yes");
          setStat("Mode", mode);
          output.value = pretty;
        }catch(e){
          setStat("Valid JSON", "No");
          setStat("Mode", mode);
          output.value = "JSON error:\n" + (e && e.message ? e.message : String(e));
        }
        return;
      }

      if(TOOL_ID === "url-encoder"){
        const encoded = encodeURIComponent(t);
        const decoded = safeDecodeURIComponent(t);
        setStat("Encoded length", encoded.length);
        setStat("Decoded length", decoded.length);
        output.value =
`EncodeURIComponent:\n${encoded}\n\nDecodeURIComponent (safe):\n${decoded}`;
        return;
      }

      if(TOOL_ID === "base64"){
        try{
          const enc = btoa(unescape(encodeURIComponent(t)));
          let dec = "";
          try{ dec = decodeURIComponent(escape(atob(t.trim()))); }catch(_){ dec = "(Input is not valid Base64 to decode)"; }
          setStat("Encoded length", enc.length);
          setStat("Decoded ok?", dec.startsWith("(") ? "No" : "Yes");
          output.value =
`Base64 encode:\n${enc}\n\nBase64 decode:\n${dec}`;
        }catch(e){
          output.value = "Base64 error:\n" + (e && e.message ? e.message : String(e));
        }
        return;
      }

      if(TOOL_ID === "title-description"){
        const kw = (t || "").trim();
        const base = kw || "your topic";
        const ideas = [
          `Free ${titleCase(base)} Tool (Fast + Privacy-Friendly)`,
          `${titleCase(base)}: Quick Checklist for Better Results`,
          `${titleCase(base)} ‚Äî Examples, Tips & Common Mistakes`,
          `Best ${titleCase(base)} Template (Copy & Use)`,
          `${titleCase(base)} in Minutes: Simple Step-by-Step`
        ];
        const descs = [
          `Use Clickoz to generate clean results for ${base}. Fast, free, and runs in your browser.`,
          `Create better titles and descriptions for ${base} with practical examples and quick edits.`,
          `Improve CTR for ${base}: clear wording, correct length, and intent-focused phrasing.`
        ];
        setStat("Titles generated", ideas.length);
        setStat("Descriptions", descs.length);
        output.value = `Title ideas:\n- ${ideas.join("\n- ")}\n\nMeta description ideas:\n- ${descs.join("\n- ")}`;
        return;
      }

      if(TOOL_ID === "alt-text"){
        const what = (t || "").trim();
        const subject = what || "an image";
        const variants = [
          `Alt: ${subject}.`,
          `Alt: Close-up of ${subject}.`,
          `Alt: ${subject} on a clean background.`,
          `Alt: ${subject}, showing key details clearly.`,
          `Alt: ${subject} with visible context and main elements.`
        ];
        setStat("Variants", variants.length);
        output.value = variants.join("\n");
        return;
      }

      if(TOOL_ID === "seo-outline"){
        const topic = (t || "").trim() || "your topic";
        const out =
`H1: ${titleCase(topic)}

H2: What is ${titleCase(topic)}?
H2: Who is it for?
H2: Key benefits and use cases
H2: Step-by-step: how to use it
H2: Common mistakes to avoid
H2: Best practices and tips
H2: Tools & templates (free resources)
H2: FAQ

FAQ ideas:
- What is the best way to start with ${topic}?
- How long does it take to get results with ${topic}?
- What are common errors with ${topic}?
- Is ${topic} free / safe / privacy-friendly?
`;
        setStat("Sections", "8");
        setStat("FAQ ideas", "4");
        output.value = out;
        return;
      }

      output.value = "Tool not implemented.";
    }

    function safeDecodeURIComponent(str){
      try{ return decodeURIComponent(str); }catch(_){ return str; }
    }
    function titleCase(s){
      return String(s).split(" ").filter(Boolean).map(w=> w[0] ? (w[0].toUpperCase()+w.slice(1)) : w).join(" ");
    }

    // Render tool meta
    (function initTool(){
      const meta = TOOLS[TOOL_ID] || TOOLS["word-counter-pro"];
      document.getElementById("toolIcon").textContent = meta.icon;
      document.getElementById("toolName").textContent = meta.name;
      document.getElementById("toolH1").textContent = meta.h1;
      document.getElementById("toolDesc").textContent = meta.desc;
      document.getElementById("toolNote").innerHTML = meta.note || "";
      document.title = `${meta.name} ‚Ä¢ Clickoz`;

      // tool-specific placeholder
      const ph = {
        "meta-tags": "First line: title\nThen paste meta description below‚Ä¶",
        "json-formatter":"Paste JSON here‚Ä¶",
        "url-encoder":"Paste URL or query string here‚Ä¶",
        "base64":"Paste text to encode OR Base64 to decode‚Ä¶",
        "title-description":"Enter a keyword/topic (e.g., 'free word counter')",
        "alt-text":"Describe the image (e.g., 'red Nike running shoes on white background')",
        "seo-outline":"Enter a topic (e.g., 'keyword research for beginners')"
      };
      input.placeholder = ph[TOOL_ID] || "Paste text here‚Ä¶";
    })();

    // Buttons
    document.getElementById("runBtn").addEventListener("click", runTool);
    document.getElementById("clearBtn").addEventListener("click", () => {
      input.value = ""; output.value = ""; stats.innerHTML = "";
    });
    document.getElementById("copyBtn").addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(output.value || "");
      }catch(_){}
    });
  </script>
</body>
</html>
